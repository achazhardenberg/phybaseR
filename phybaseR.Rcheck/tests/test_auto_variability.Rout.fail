
R version 4.5.2 (2025-10-31) -- "[Not] Part in a Rumble"
Copyright (C) 2025 The R Foundation for Statistical Computing
Platform: aarch64-apple-darwin20

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(phybaseR)
> library(ape)
> 
> # Test auto-detection of variability
> set.seed(123)
> N <- 30
> tree <- rtree(N)
> 
> # Create data with SE (standard errors)
> data <- data.frame(
+     X = rnorm(N, mean = 5, sd = 2),
+     X_se = runif(N, 0.1, 0.5), # Auto-detect this!
+     Y = rnorm(N)
+ )
> data$Y <- 0.5 * data$X + rnorm(N, sd = 0.5)
> 
> cat("=== Testing Auto-Detection of Standard Errors ===\n")
=== Testing Auto-Detection of Standard Errors ===
> cat("Data columns:", paste(names(data), collapse = ", "), "\n\n")
Data columns: X, X_se, Y 

> 
> # Run WITHOUT specifying variability argument
> # Should auto-detect X_se
> fit <- phybase_run(
+     data = data,
+     tree = tree,
+     equations = list(Y ~ X),
+     n.chains = 2,
+     n.iter = 1000,
+     n.burnin = 500,
+     quiet = FALSE # Show messages to see auto-detection
+ )
Converted data.frame to list with 3 variables: Y, X, X_se
Standardizing tree (max_bt: 1.44 -> 1.0)
Auto-detected: 'X' has standard errors in 'X_se'
Compiling model graph
   Resolving undeclared variables
   Allocating nodes
Deleting model

Error in rjags::jags.model(model_file, data = data, n.chains = n.chains,  : 
  RUNTIME ERROR:
Compilation error on line 19.
Unknown variable X
Either supply values for this variable with the data
or define it  on the left hand side of a relation.

Calls: phybase_run -> <Anonymous>
In addition: Warning message:
In rjags::jags.model(model_file, data = data, n.chains = n.chains,  :
  Unused variable "ID2" in data
Execution halted
