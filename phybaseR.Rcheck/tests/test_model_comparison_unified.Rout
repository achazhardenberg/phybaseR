
R version 4.5.2 (2025-10-31) -- "[Not] Part in a Rumble"
Copyright (C) 2025 The R Foundation for Statistical Computing
Platform: aarch64-apple-darwin20

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(phybaseR)
> library(ape)
> 
> # Create synthetic data
> set.seed(42)
> N <- 40
> tree <- rtree(N)
> df <- data.frame(
+     SP = tree$tip.label,
+     Y = rnorm(N, 10, 2),
+     X1 = rnorm(N),
+     X2 = rnorm(N)
+ )
> 
> cat("\n=== TEST 1: Run and Compare Specs (Mode 2) ===\n")

=== TEST 1: Run and Compare Specs (Mode 2) ===
> specs <- list(
+     m1 = list(equations = list(Y ~ X1)),
+     m2 = list(equations = list(Y ~ X1 + X2))
+ )
> 
> # Test positional arguments for specs, data, tree
> res_batch <- phybase_compare(specs, df, tree, n.cores = 1, n.iter = 1000)
Running 2 models in comparison set...
Fitting model: m1
Fitting model: m2
Warning messages:
1: In rjags::jags.model(model_file, data = data, n.chains = n.chains,  :
  Unused variable "ID2" in data
2: In rjags::jags.model(model_file, data = data, n.chains = n.chains,  :
  Unused variable "ID2" in data
> print(res_batch$comparison)
Model Comparison (ordered by WAIC):
   WAIC  SE dWAIC dSE p_waic weight
m1  170 7.2   0.0 0.0    9.5   0.64
m2  171 6.9   1.1 1.2    9.5   0.36

> 
> cat("\n=== TEST 2: Compare Fitted Models (Mode 1) ===\n")

=== TEST 2: Compare Fitted Models (Mode 1) ===
> fit1 <- res_batch$results$m1
> fit2 <- res_batch$results$m2
> 
> # Test positional arguments for fits
> comp_fits <- phybase_compare(fit1, fit2)
> print(comp_fits)
Model Comparison (ordered by WAIC):
        WAIC  SE dWAIC dSE p_waic weight
Model_1  170 7.2   0.0 0.0    9.5   0.64
Model_2  171 6.9   1.1 1.2    9.5   0.36

> 
> cat("\n✓ SUCCESS\n")

✓ SUCCESS
> 
> proc.time()
   user  system elapsed 
  4.956   0.136   5.599 
