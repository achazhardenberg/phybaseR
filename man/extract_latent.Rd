% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/extract_latent.R
\name{extract_latent}
\alias{extract_latent}
\title{Extract Latent Parameters from a because Model}
\usage{
extract_latent(object, type = "occupancy", variables = NULL)
}
\arguments{
\item{object}{A \code{because} model object.}

\item{type}{Character; the type of latent variable to extract. Currently supports "occupancy".}

\item{variables}{Optional character vector specifying which latent variables to extract
(e.g., \code{c("psi", "p", "z")}). If \code{NULL}, extracts all available for the given type.}
}
\value{
A tidy data frame (tibble) containing:
\itemize{
\item \code{Variable}: The base name of the latent parameter (e.g., "psi").
\item \code{Response}: The response variable name in the model (e.g., "Y").
\item \code{SpeciesID}: The species identifier (for multispecies models).
\item \code{SiteID}: The site identifier.
\item \code{Mean, SD, Q2.5, Q50, Q97.5}: Posterior summary statistics.
}
}
\description{
This function extracts posterior distributions of latent variables such as
occupancy probability (psi), detection probability (p), and latent occupancy state (z).
It is designed to handle multispecies models by mapping stacked results back to species and sites.
}
\details{
For occupancy models, the function looks for parameters starting with \code{psi_}, \code{p_}, and \code{z_}.
It uses the internal \code{results$data} or \code{results$species_order} to map indices back to
meaningful identifiers.
}
