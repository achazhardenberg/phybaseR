% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/phybase_model.R
\name{phybase_model}
\alias{phybase_model}
\title{Generate a JAGS model string for Phylogenetic Bayesian SEM (PhyBaSE)}
\usage{
phybase_model(equations, multi.tree = FALSE)
}
\arguments{
\item{equations}{A list of model formulas (one per structural equation), e.g., \code{list(Y ~ X1 + X2, Z ~ Y)}.}

\item{multi.tree}{Logical. If \code{TRUE}, generates a model that samples from a set of phylogenetic variance-covariance matrices (\code{multiVCV}) to account for phylogenetic uncertainty. Defaults to \code{FALSE}.}
}
\value{
A character string containing the JAGS model code.
}
\description{
This function builds the model code to be passed to JAGS based on a set of structural equations.
It supports both single and multiple phylogenetic trees (to account for phylogenetic uncertainty).
Missing values are handled both in the response and predictor variables treating all of them as stochastic nodes.
}
\details{
The generated model includes:
\itemize{
  \item Linear predictors and multivariate normal likelihoods for each response variable.
  \item Priors for intercepts (\code{alpha}), slopes (\code{beta}), lambda parameters (\code{lambda}), and residual precisions (\code{tau}).
  \item Phylogenetic covariance modeled via a single \code{VCV} matrix (when \code{multi.tree = FALSE}) or a 3D array \code{multiVCV[,,K]} with categorical sampling across trees (when \code{multi.tree = TRUE}).
}
}
\examples{
eqs <- list(BR ~ BM, S ~ BR, G ~ BR, L ~ BR)
cat(phybase_model(eqs, multi.tree = TRUE))

}
